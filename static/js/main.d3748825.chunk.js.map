{"version":3,"sources":["components/PostItem/PostItem.js","components/PostList/PostList.js","components/PostAddForm/PostAddForm.js","components/Header/Header.js","components/Filter/Filter.js","App.js","index.js"],"names":["PostItem","props","text","like","onLike","onDelete","classNames","className","type","onClick","src","alt","PostList","postsList","posts","onlyLiked","filter","post","map","id","itemProps","PostAddForm","state","onSubmit","e","preventDefault","onAdd","setState","onChange","target","value","this","placeholder","React","Component","Header","numOfPosts","numOfLikedPosts","Filter","showLiked","filterBtnClassNames","App","data","maxId","postText","newItem","localStorage","setItem","JSON","stringify","index","findIndex","item","slice","removeItem","oldPost","newPost","key","hasOwnProperty","parse","getItem","console","log","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3748825.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './index.css';\r\n\r\nconst PostItem = (props) => {\r\n    const {text, like, onLike, onDelete} = props;\r\n    let classNames = 'post-item__container ';\r\n    if (like) {\r\n        classNames += 'like '\r\n    }\r\n    return (\r\n        <div className={classNames}>\r\n            <span\r\n                className=\"post-form__post-text\">\r\n                {text}\r\n            </span>\r\n            <div className=\"buttons\">\r\n                <button \r\n                    type=\"button\"\r\n                    onClick={onLike}\r\n                    className=\"post-item__btn\">\r\n                        <img src=\"./heart.svg\" alt=\"minus\" className=\"post-item__img\"/>\r\n                </button>\r\n                <button \r\n                    type=\"button\"\r\n                    onClick={onDelete}\r\n                    className=\"post-item__btn\">\r\n                        <img src=\"./trash.svg\" alt=\"minus\" className=\"post-item__img\"/> \r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostItem;","import React from 'react';\r\nimport PostItem from '../PostItem/PostItem';\r\n\r\nimport './index.css';\r\n\r\nconst PostList = ({posts, onDelete, onLike, onlyLiked}) => {\r\n    let postsList;\r\n\r\n    if (!onlyLiked) {\r\n        postsList = posts.map(post => {\r\n            const {id, ...itemProps} = post;\r\n            return (\r\n                \r\n                <li key={id} className=\"post-list-item\">\r\n                    <PostItem \r\n                        {...itemProps}\r\n                        onDelete={() => onDelete(id)}\r\n                        onLike={() => onLike(id)}/>\r\n                </li>\r\n            )\r\n        });\r\n    } else {\r\n        postsList = posts\r\n                        .filter(post => post.like)\r\n                        .map(post => {\r\n            const {id, ...itemProps} = post;\r\n            return (\r\n                \r\n                <li key={id} className=\"post-list-item\">\r\n                    <PostItem \r\n                        {...itemProps}\r\n                        onDelete={() => onDelete(id)}\r\n                        onLike={() => onLike(id)}/>\r\n                </li>\r\n            )\r\n        });\r\n    }\r\n    \r\n\r\n    return (\r\n        <ul className=\"posts-list\">\r\n            {postsList}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default PostList;","import React from 'react';\r\n\r\nimport \"./index.css\"\r\n\r\nexport default class PostAddForm extends React.Component {\r\n    state = {\r\n        text: ''\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        if (!this.state.text) {\r\n            return\r\n        }\r\n        this.props.onAdd(this.state.text);\r\n        this.setState({text: ''});\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({text: e.target.value});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.onSubmit}\r\n                  className=\"post-form__container\">\r\n                <input \r\n                    value={this.state.text}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"New post\"\r\n                    className=\"post-form__input\"/>\r\n                <button type=\"submit\"\r\n                        className=\"post-form__btn\">\r\n                    Add post\r\n                </button>\r\n            </form>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nimport './index.css'\r\n\r\nconst Header = ({numOfPosts, numOfLikedPosts}) => {\r\n    return (\r\n        <header className=\"header__container\">\r\n            <h1 className=\"header__title\">\r\n                Little twitter\r\n            </h1>\r\n            <div className=\"header__counter-container\">\r\n                <p className='header__counter'>Posts: {numOfPosts}</p>\r\n                <p className='header__counter'>Liked: {numOfLikedPosts}</p>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\n\r\nconst Filter = ({showLiked, onlyLiked}) => {\r\n    let filterBtnClassNames = `nav__filter-btn `;\r\n    if (onlyLiked) {filterBtnClassNames += `filter-btn_push`}\r\n\r\n    return (\r\n        <button \r\n            onClick={showLiked}\r\n            className={filterBtnClassNames}>\r\n            Show only liked posts\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\nimport './App.css';\r\n\r\nimport PostList from './components/PostList/PostList';\r\nimport PostAddForm from './components/PostAddForm/PostAddForm';\r\nimport Header from './components/Header/Header';\r\nimport Filter from './components/Filter/Filter';\r\n\r\nclass App extends React.Component {\r\n\r\n    state = {\r\n        data: [],\r\n        onlyLiked: false\r\n    }\r\n\r\n    maxId = 0;\r\n\r\n    componentDidMount() {\r\n        for (let key in localStorage) {\r\n            if (!localStorage.hasOwnProperty(key)) {\r\n                continue;\r\n            }\r\n            const post = JSON.parse(localStorage.getItem(key));\r\n            this.maxId = +key + 1;\r\n            this.setState(({data}) => {\r\n                const newData = [post, ...data];\r\n                return {\r\n                    data: newData\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    onAdd = (postText) => {\r\n\r\n        const newItem = {\r\n            text: postText,\r\n            id: this.maxId++,\r\n            like: false\r\n        }\r\n\r\n        this.setState(({data}) => {\r\n            const newData = [...data, newItem];\r\n            return {\r\n                data: newData\r\n            }\r\n        })\r\n        localStorage.setItem(newItem.id, JSON.stringify(newItem));\r\n    }\r\n\r\n    onDelete = id => {\r\n        this.setState(({data}) => {\r\n            \r\n            const index = data.findIndex(item => item.id === id);\r\n\r\n            const newData = [...data.slice(0, index), ...data.slice(index + 1)];\r\n\r\n            return {data: newData}\r\n        })\r\n        localStorage.removeItem(id);\r\n    }\r\n\r\n    onLike = id => {\r\n        \r\n        this.setState(({data}) => {\r\n            \r\n            const index = data.findIndex(item => item.id === id);\r\n            const oldPost = data[index];\r\n            const newPost = {...oldPost, like: !oldPost.like};\r\n\r\n            localStorage.setItem(newPost.id, JSON.stringify(newPost));\r\n            const newData = [...data.slice(0, index), newPost, ...data.slice(index + 1)];\r\n\r\n            return {data: newData}\r\n        })\r\n    }\r\n\r\n    showLiked = () => {\r\n        this.setState({onlyLiked: !this.state.onlyLiked})\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.state.data);\r\n\r\n    let numOfPosts = this.state.data.length;\r\n    let numOfLikedPosts = this.state.data.filter(post => post.like).length;\r\n    \r\n    return (\r\n        <div className=\"App\">\r\n            <Header\r\n                numOfPosts={numOfPosts}\r\n                numOfLikedPosts={numOfLikedPosts}/>\r\n            \r\n            <nav className=\"main__nav\">\r\n                <Filter\r\n                    showLiked={this.showLiked}\r\n                    onlyLiked={this.state.onlyLiked}/>\r\n            </nav> \r\n            <div className=\"main__posts-container\">\r\n                <PostAddForm \r\n                    onAdd={this.onAdd}/>\r\n                \r\n                <PostList \r\n                    posts={this.state.data}\r\n                    onlyLiked={this.state.onlyLiked}\r\n                    onDelete={this.onDelete} \r\n                    onLike={this.onLike}/> \r\n            </div>\r\n            <aside className=\"main__aside\">\r\n\r\n            </aside>\r\n            \r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}